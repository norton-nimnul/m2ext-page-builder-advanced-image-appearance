<!--
/**
 * Copyright Â© 2025 NortN. All rights reserved.
 */
-->
<figure attr="data.main.attributes" ko-style="Object.assign({}, data.main.style(), !data.desktop_image.attributes().src ? {} : {borderStyle: 'none'})" css="data.main.css">
    <a if="data.link.attributes().href" attr="data.link.attributes" ko-style="data.link.style" css="data.link.css">
        <picture>
            <if args="data.desktop_image_source.attributes().srcset">
                <source media="(min-width: 768px)" attr="data.desktop_image_source.attributes">
            </if>
            <if args="data.mobile_image_source.attributes().srcset">
                <source media="(max-width: 767px)" attr="data.mobile_image_source.attributes">
            </if>
            <if args="data.mobile_image.attributes().src && !data.desktop_image.attributes().src">
                <img attr="data.mobile_image.attributes"
                     class="pagebuilder-mobile-only"
                     css="data.mobile_image.css"
                     ko-style="data.mobile_image.style" />
            </if>
            <if args="data.mobile_image.attributes().src && data.desktop_image.attributes().src">
                <if args="data.mobile_image.attributes().src === data.desktop_image.attributes().src">
                    <img attr="data.desktop_image.attributes"
                         css="data.desktop_image.css"
                         ko-style="data.desktop_image.style" />
                </if>
                <if args="data.mobile_image.attributes().src !== data.desktop_image.attributes().src">
                    <img attr="data.mobile_image.attributes"
                         css="data.mobile_image.css"
                         ko-style="data.mobile_image.style" />
                </if>
            </if>
        </picture>
    </a>

    <ifnot args="data.link.attributes().href">
        <picture>
            <if args="data.desktop_image_source.attributes().srcset">
                <source media="(min-width: 768px)" attr="data.desktop_image_source.attributes">
            </if>
            <if args="data.mobile_image_source.attributes().srcset">
                <source media="(max-width: 767px)" attr="data.mobile_image_source.attributes">
            </if>
            <if args="data.mobile_image.attributes().src && !data.desktop_image.attributes().src">
                <img attr="data.mobile_image.attributes"
                     class="pagebuilder-mobile-only"
                     css="data.mobile_image.css"
                     ko-style="data.mobile_image.style" />
            </if>
            <if args="data.mobile_image.attributes().src && data.desktop_image.attributes().src">
                <if args="data.mobile_image.attributes().src === data.desktop_image.attributes().src">
                    <img attr="data.desktop_image.attributes"
                         css="data.desktop_image.css"
                         ko-style="data.desktop_image.style" />
                </if>
                <if args="data.mobile_image.attributes().src !== data.desktop_image.attributes().src">
                    <img attr="data.mobile_image.attributes"
                         css="data.mobile_image.css"
                         ko-style="data.mobile_image.style" />
                </if>
            </if>
        </picture>
    </ifnot>

    <figcaption if="data.caption.html()"
                attr="data.caption.attributes"
                css="data.caption.css"
                html="data.caption.html"
                ko-style="data.caption.style">
    </figcaption>
</figure>
